!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in t){var r=t[e];delete t[e];var i={id:e,exports:{}};return n[e]=i,r.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){t[e]=n},e.parcelRequired7c6=r),r("lb3to");var i=r("2T02J");r("9tAMN"),(0,i.hidePreloder)();var a=document.querySelector(".js-filters");function o(e){var n=localStorage.getItem(e);return n?JSON.parse(n):[]}function s(e){var n=e.map((function(e){var n,t=new Date(e.release_date),r=[];return(null===(n=e.genres)||void 0===n?void 0:n.length)?r=e.genres.map((function(e){return e.name})):(e.genre_ids.forEach((function(e){filmsApiService.genres_ids_array.genres.forEach((function(n){var t=n.id,i=n.name;t===e&&r.push(i)}))})),r=r.slice(0,2)),'<li class="gallery__item" id="'.concat(e.id,'">\n            <a class="film-card"">\n                    <img src="https://image.tmdb.org/t/p/w500/').concat(e.poster_path,'" \n                        class="film-poster__img" loading="lazy" />\n                <div class="info"">\n                <p class="info__title">').concat(e.title,'</p>\n\n                  <p class="info__genres">\n                  ').concat(r.join(", ")," | ").concat(t.getFullYear()," \n        \n               </p>\n            </div>\n            </a>\n      </li>")})).join("");document.querySelector(".movie__gallery").innerHTML=n}s(o("watched")),a.addEventListener("click",(function(e){var n=e.target.closest("button");if(!n)return!1;var t=n.dataset.type;n.closest("ul").querySelector(".is-active").classList.remove("is-active"),n.classList.add("is-active"),s(o(t))}));window.addEventListener("message",(function(e){var n=document.querySelector(".js-filters .is-active").dataset.type;"closeModal"===e.data&&s(o(n))}))}();
//# sourceMappingURL=library.e5e78998.js.map
