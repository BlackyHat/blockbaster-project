var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,s.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s),s("8eHa4");var r=s("7NN9c");s("j3p24"),(0,r.hidePreloder)();const i=document.querySelector(".js-filters");function a(e){const t=localStorage.getItem(e);return t?JSON.parse(t):[]}function l(e){const t=e.map((e=>{const t=new Date(e.release_date);let n=[];return e.genres?.length?n=e.genres.map((({name:e})=>e)):(e.genre_ids.forEach((e=>{filmsApiService.genres_ids_array.genres.forEach((({id:t,name:s})=>{t===e&&n.push(s)}))})),n=n.slice(0,2)),`<li class="gallery__item" id="${e.id}">\n            <a class="film-card"">\n                    <img src="https://image.tmdb.org/t/p/w500/${e.poster_path}" \n                        class="film-poster__img" loading="lazy" />\n                <div class="info"">\n                <p class="info__title">${e.title}</p>\n\n                  <p class="info__genres">\n                  ${n.join(", ")} | ${t.getFullYear()} \n        \n               </p>\n            </div>\n            </a>\n      </li>`})).join("");document.querySelector(".movie__gallery").innerHTML=t}l(a("watched")),i.addEventListener("click",(e=>{const t=e.target.closest("button");if(!t)return!1;const n=t.dataset.type;t.closest("ul").querySelector(".is-active").classList.remove("is-active"),t.classList.add("is-active"),l(a(n))}));window.addEventListener("message",(e=>{const t=document.querySelector(".js-filters .is-active").dataset.type;"closeModal"===e.data&&l(a(t))}));
//# sourceMappingURL=library.8cb427d8.js.map
