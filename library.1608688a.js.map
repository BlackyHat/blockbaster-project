{"mappings":"YAAA,IAAMA,EAAMC,SAASC,cAAc,iBAEjCC,aAAY,WACVH,EAAII,UAAUC,OAAO,qB,GACpB,KCFLC,OAAOC,iBAAiB,QAAQ,WAC9BC,YAAW,WACTP,SAASQ,KAAKL,UAAUM,IAAI,S,GAJb,I,IAajBF,YAAW,WACTP,SAASQ,KAAKL,UAAUM,IAAI,S,GAdb,KCKnB,IAAMC,EAAYV,SAASC,cAAc,eAmBzC,SAASU,EAAUC,GACjB,IAAMC,EAAOC,aAAaC,QAAQH,GAClC,OAAIC,EAAaG,KAAKC,MAAMJ,GACrB,E,CAGT,SAASK,EAAaL,GACpB,IAAMM,EAASN,EACZO,KAAI,SAAAC,GAEH,IAAMC,EAAO,IAAIC,KAAKF,EAAGG,cAgBzB,OAFAC,QAAQC,IAAIL,EAAGM,QAER,iCAGSC,OAHwBP,EAAGQ,GAAG,0GAOXD,OAJnBP,EAAGS,YACJ,wJAMDF,OAHqBP,EAAGU,MAAM,0EAGHH,OAzBxB,GAyBQI,KAAK,MAAM,OAAwBJ,OAAnBN,EAAKW,cAAc,gF,IAO7DD,KAAK,IAEahC,SAASC,cAAc,mBAC/BiC,UAAYf,C,CA/D3BD,EAAaP,EAAU,YAEvBD,EAAUJ,iBAAiB,SAAS,SAAA6B,GAClC,IAAMC,EAASD,EAAIC,OAAOC,QAAQ,UAClC,IAAKD,EAAQ,OAAO,EAEpB,IAAME,EAAYF,EAAOG,QAAQ3B,KACjCwB,EACGC,QAAQ,MACRpC,cAAc,cACdE,UAAUqC,OAAO,aACpBJ,EAAOjC,UAAUM,IAAI,aACrBgB,QAAQC,IAAIY,GACZb,QAAQC,IAAIf,EAAU2B,IACtBpB,EAAaP,EAAU2B,G","sources":["src/js/blinking-heart.js","src/js/preloder.js","src/library.js"],"sourcesContent":["const svg = document.querySelector('.footer__icon');\nfunction blickSvg() {\n  setInterval(() => {\n    svg.classList.toggle('footer__icon-blick');\n  }, 800);\n}\nblickSvg();\n","const TIME_DELAY = 500;\n\nwindow.addEventListener('load', function () {\n  setTimeout(function () {\n    document.body.classList.add('loaded');\n  }, TIME_DELAY);\n});\n\nexport function showPreloder() {\n  document.body.classList.remove('loaded');\n}\n\nexport function hidePreloder() {\n  setTimeout(function () {\n    document.body.classList.add('loaded');\n  }, TIME_DELAY);\n}\n","import './js/blinking-heart.js';\nimport { hidePreloder, showPreloder } from './js/preloder';\n// import { createMarkup } from './js/films.js';\nhidePreloder();\n\nconst filterRef = document.querySelector('.js-filters');\n\ncreateMarkup(getMovies('watched'));\n\nfilterRef.addEventListener('click', evt => {\n  const target = evt.target.closest('button');\n  if (!target) return false;\n\n  const movieType = target.dataset.type;\n  target\n    .closest('ul')\n    .querySelector('.is-active')\n    .classList.remove('is-active');\n  target.classList.add('is-active');\n  console.log(movieType);\n  console.log(getMovies(movieType));\n  createMarkup(getMovies(movieType));\n});\n\nfunction getMovies(type) {\n  const data = localStorage.getItem(type);\n  if (data) return JSON.parse(data);\n  return [];\n}\n\nfunction createMarkup(data) {\n  const markup = data\n    .map(el => {\n      //\n      const date = new Date(el.release_date);\n      let genres_ids = [];\n      // //\n      // if (!el.genres) {\n      //   el.genre_ids.forEach(el => {\n      //     const arr = filmsApiService.genres_ids_array.genres;\n      //     arr.forEach(({ id, name }) => {\n      //       if (id === el) {\n      //         genres_ids.push(name);\n      //       }\n      //     });\n      //   });\n      //   genres_ids = genres_ids.slice(0, 3);\n      // } else {\n      console.log(el.genres);\n\n      return `<li class=\"gallery__item\" id=\"${el.id}\">\n            <a class=\"film-card\"\">\n                    <img src=\"https://image.tmdb.org/t/p/w500/${\n                      el.poster_path\n                    }\" \n                        class=\"film-poster__img\" loading=\"lazy\" />\n                <div class=\"info\"\">\n                <p class=\"info__title\">${el.title}</p>\n\n                  <p class=\"info__genres\">\n                  ${genres_ids.join(', ')} | ${date.getFullYear()} \n        \n               </p>\n            </div>\n            </a>\n</li>`;\n    })\n    .join('');\n  //\n  const movieGallery = document.querySelector('.movie__gallery');\n  movieGallery.innerHTML = markup;\n}\n"],"names":["$f6ad51be3b2f0a9f$var$svg","document","querySelector","setInterval","classList","toggle","window","addEventListener","setTimeout","body","add","$cecbdd76f2d3d4bd$var$filterRef","$cecbdd76f2d3d4bd$var$getMovies","type","data","localStorage","getItem","JSON","parse","$cecbdd76f2d3d4bd$var$createMarkup","markup","map","el","date","Date","release_date","console","log","genres","concat","id","poster_path","title","join","getFullYear","innerHTML","evt","target","closest","movieType","dataset","remove"],"version":3,"file":"library.1608688a.js.map"}