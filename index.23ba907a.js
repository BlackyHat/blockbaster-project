!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var d=a("6B1UN"),r=a("bpxeT"),c=a("2TvXO"),i=a("dIxxU"),l=a("2JYat"),s=a("2T02J"),u="https://api.themoviedb.org/3",v="/movie/",m={openModalMovieCard:document.querySelector("[modal-movie-open]"),closeModalMovieBtn:document.querySelector("[modal-movie-close]"),backdrop:document.querySelector(".js-modalMovie__backdrop"),targetMovie:document.querySelector(".movie__gallery"),modalCard:document.querySelector(".modalMovie__container")};function p(){document.body.classList.remove("show-modal"),window.removeEventListener("keydown",_)}function _(e){"Escape"===e.code&&p()}function f(){return(f=e(r)(e(c).mark((function t(o){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(0,s.showPreloder)(),e.next=4,i.default.get("".concat(u).concat(v).concat(o,"?api_key=").concat(l.API_KEY_TMDb,"&language=en-US"));case 4:h(e.sent),(0,s.hidePreloder)(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),(0,s.hidePreloder)();case 13:case"end":return e.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}m.openModalMovieCard.addEventListener("click",(function(){document.body.classList.add("show-modal"),window.addEventListener("keydown",_)})),m.closeModalMovieBtn.addEventListener("click",p),m.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&p()})),m.targetMovie.addEventListener("click",(function(e){var t=e.target.closest("li");console.log(t.id),function(e){f.apply(this,arguments)}(t.id)}));var b=[],g=[];function h(e){var t=e.data,o=t.poster_path,n=t.title,a=t.vote_average,d=t.vote_count,r=t.popularity,c=t.original_title,i=t.genres,l=t.genre_ids,s=t.overview,u=t.id,v=t.release_date;w={poster_path:o,title:n,vote_average:a,vote_count:d,popularity:r,original_title:c,genre_ids:l,overview:s,id:u,release_date:v};var p='\n        <div class="movie__poster">\n                <picture class="movie__poster--img">\n                    <img src="'.concat("https://image.tmdb.org/t/p/w500/").concat(o,'" alt=').concat(n,' class="movie-poster__img" />\n                </picture>\n            </div>\n            <div class="movie__about">\n                <h2 class="movie__about--title">').concat(n,'</h2>\n                <table>\n                    <tr>\n                        <td class="movie__table-menu">Vote / Votes</td>\n                        <td class="movie__table-number"><span class="average">').concat(a.toFixed(1),'</span> / <span class="count">').concat(Math.round(d),'</span></td>\n                    </tr>\n                    <tr>\n                        <td class="movie__table-menu">Popularity</td> \n                        <td class="movie__table-number">').concat(r.toFixed(1),'</td>\n                    </tr>\n                    <tr>\n                        <td class="movie__table-menu">Original Title</td>\n                        <td class="movie__table-data">').concat(c,'</td>\n                    </tr>\n                    <tr>\n                        <td class="movie__table-menu">Genre</td>\n                        <td class="movie__table-genres">').concat(i[0].name,'</td>\n                    </tr>\n                </table>\n                <div>\n                    <h3 class="movie__about--subtitle">About</h3>\n                    <p class="modal__about--discription">').concat(s,'</p>\n                </div>\n                <div class="modal__buttons">\n                    <button class="modal__button button-watched" type="button">').concat(function(){var e=b.some((function(e){return e.id===w.id})),t="";t=e?"Remove From Watched":"Add To Watched";return t}(),'</button>\n                    <button class="modal__button button-queue" type="button">').concat(function(){var e=g.some((function(e){return e.id===w.id})),t="";t=e?"Remove From Queue":"Add To Queue";return t}(),"</button>\n                </div>\n            </div>\n        ");m.modalCard.innerHTML=p;var _=document.querySelector(".button-watched"),f=document.querySelector(".button-queue");_.addEventListener("click",y),f.addEventListener("click",L),b.some((function(e){return e.id===w.id}))?_.classList.add("modal__button--watched"):_.classList.remove("modal__button--watched"),g.some((function(e){return e.id===w.id}))?f.classList.add("modal__button--watched"):f.classList.remove("modal__button--watched")}!function(){var e=localStorage.getItem("watched"),t=JSON.parse(e);if(null!==t){b=t;var o=localStorage.getItem("queue"),n=JSON.parse(o);null!==n&&(g=n)}}();var w={};function y(e){var t,o;if(b.some((function(e){return e.id===w.id}))){var n=b.findIndex((function(e){return e.id===w.id}));t=n,b.splice(t,1),localStorage.setItem("watched",JSON.stringify(b)),e.target.textContent="Add To Watched"}else o=w,b.push(o),localStorage.setItem("watched",JSON.stringify(b)),e.target.textContent="Remove From Watched"}function L(e){var t,o;if(g.some((function(e){return e.id===w.id}))){var n=g.findIndex((function(e){return e.id===w.id}));t=n,g.splice(t,1),localStorage.setItem("queue",JSON.stringify(g)),e.target.textContent="Add To Queue"}else o=w,g.push(o),localStorage.setItem("queue",JSON.stringify(g)),e.target.textContent="Remove From Queue"}a("lb3to");var k={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]"),backdrop:document.querySelector(".backdrop")};function M(){k.modal.classList.add("is-hidden")}function S(e){"Escape"===e.code&&(M(),window.removeEventListener("keydown",S))}document.addEventListener("click",(function(e){e.target.id===k.openModalBtn.id&&e.preventDefault()})),console.log(k.closeModalBtn),k.openModalBtn.addEventListener("click",(function(){k.modal.classList.remove("is-hidden"),window.addEventListener("keydown",S),k.closeModalBtn.addEventListener("click",M),k.backdrop.addEventListener("click",(function(e){e.target.classList.contains("backdrop")&&M()}))})),(0,d.getTrendMovies)()}();
//# sourceMappingURL=index.23ba907a.js.map
