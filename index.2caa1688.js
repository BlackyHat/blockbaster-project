var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var d={id:e,exports:{}};return t[e]=d,n.call(d.exports,d,d.exports),d.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n);var d=n("k4dh1"),a=n("2shzp"),i=n("OemQu"),l=n("7NN9c");const s={openModalMovieCard:document.querySelector("[modal-movie-open]"),closeModalMovieBtn:document.querySelector("[modal-movie-close]"),backdrop:document.querySelector(".js-modalMovie__backdrop"),targetMovie:document.querySelector(".movie__gallery"),modalCard:document.querySelector(".modalMovie__container")};function c(){document.body.classList.remove("show-modal"),window.removeEventListener("keydown",r)}function r(e){"Escape"===e.code&&c()}s.openModalMovieCard.addEventListener("click",(function(){document.body.classList.add("show-modal"),window.addEventListener("keydown",r)})),s.closeModalMovieBtn.addEventListener("click",c),s.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&c()})),s.targetMovie.addEventListener("click",(function(e){const t=e.target.closest("li");console.log(t.id),async function(e){try{(0,l.showPreloder)();!function(e){const{poster_path:t,title:o,vote_average:n,vote_count:d,popularity:a,original_title:i,genres:l,genre_ids:c,overview:r,id:g,release_date:b}=e.data;v={poster_path:t,title:o,vote_average:n,vote_count:d,popularity:a,original_title:i,genre_ids:c,overview:r,id:g,release_date:b};const f=`\n        <div class="movie__poster">\n                <picture class="movie__poster--img">\n                    <img src="https://image.tmdb.org/t/p/w500/${t}" alt=${o} class="movie-poster__img" />\n                </picture>\n            </div>\n            <div class="movie__about">\n                <h2 class="movie__about--title">${o}</h2>\n                <table>\n                    <tr>\n                        <td class="movie__table-menu">Vote / Votes</td>\n                        <td class="movie__table-number"><span class="average">${n.toFixed(1)}</span> / <span class="count">${Math.round(d)}</span></td>\n                    </tr>\n                    <tr>\n                        <td class="movie__table-menu">Popularity</td> \n                        <td class="movie__table-number">${a.toFixed(1)}</td>\n                    </tr>\n                    <tr>\n                        <td class="movie__table-menu">Original Title</td>\n                        <td class="movie__table-data">${i}</td>\n                    </tr>\n                    <tr>\n                        <td class="movie__table-menu">Genre</td>\n                        <td class="movie__table-genres">${l[0].name}</td>\n                    </tr>\n                </table>\n                <div>\n                    <h3 class="movie__about--subtitle">About</h3>\n                    <p class="modal__about--discription">${r}</p>\n                </div>\n                <div class="modal__buttons">\n                    <button class="modal__button button-watched" type="button">${function(){const e=u.some((e=>e.id===v.id));let t="";t=e?"Remove From Watched":"Add To Watched";return t}()}</button>\n                    <button class="modal__button button-queue" type="button">${function(){const e=m.some((e=>e.id===v.id));let t="";t=e?"Remove From Queue":"Add To Queue";return t}()}</button>\n                </div>\n            </div>\n        `;s.modalCard.innerHTML=f;const h=document.querySelector(".button-watched"),w=document.querySelector(".button-queue");function y(){u.some((e=>e.id===v.id))?h.classList.add("modal__button--watched"):h.classList.remove("modal__button--watched");m.some((e=>e.id===v.id))?w.classList.add("modal__button--watched"):w.classList.remove("modal__button--watched")}h.addEventListener("click",_),w.addEventListener("click",p),y()}(await a.default.get(`https://api.themoviedb.org/3/movie/${e}?api_key=${i.API_KEY_TMDb}&language=en-US`)),(0,l.hidePreloder)()}catch(e){console.log(e),(0,l.hidePreloder)()}}(t.id)}));let u=[],m=[];!function(){const e=localStorage.getItem("watched"),t=JSON.parse(e);if(null===t)return;u=t;const o=localStorage.getItem("queue"),n=JSON.parse(o);null!==n&&(m=n)}();let v={};function _(e){if(u.some((e=>e.id===v.id))){const o=u.findIndex((e=>e.id===v.id));t=o,u.splice(t,1),localStorage.setItem("watched",JSON.stringify(u)),e.target.textContent="Add To Watched"}else o=v,u.push(o),localStorage.setItem("watched",JSON.stringify(u)),e.target.textContent="Remove From Watched";var t,o}function p(e){if(m.some((e=>e.id===v.id))){const o=m.findIndex((e=>e.id===v.id));t=o,m.splice(t,1),localStorage.setItem("queue",JSON.stringify(m)),e.target.textContent="Add To Queue"}else o=v,m.push(o),localStorage.setItem("queue",JSON.stringify(m)),e.target.textContent="Remove From Queue";var t,o}n("8eHa4");const g={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]"),backdrop:document.querySelector(".backdrop")};function b(){g.modal.classList.add("is-hidden")}function f(e){"Escape"===e.code&&(b(),window.removeEventListener("keydown",f))}document.addEventListener("click",(e=>{e.target.id===g.openModalBtn.id&&e.preventDefault()})),console.log(g.closeModalBtn),g.openModalBtn.addEventListener("click",(function(){g.modal.classList.remove("is-hidden"),window.addEventListener("keydown",f),g.closeModalBtn.addEventListener("click",b),g.backdrop.addEventListener("click",(e=>{e.target.classList.contains("backdrop")&&b()}))})),(0,d.getTrendMovies)();
//# sourceMappingURL=index.2caa1688.js.map
