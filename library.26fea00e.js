function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i),i.register("kyEFX",(function(t,r){var n,i;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var s={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)s[t[r]]=e[t[r]]},i=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("kyEFX").register(JSON.parse('{"1zJhX":"library.26fea00e.js","lqWPf":"no-films.bd757f1e.png","eM9ss":"library.e4956835.js"}')),i("8eHa4"),i("ak03H");var s=i("7NN9c"),o=i("h0oKa");i("j3p24");var l;l=new URL(i("kyEFX").resolve("lqWPf"),import.meta.url).toString(),(0,s.hidePreloder)();const a=document.querySelector(".js-filters");function c(e){const t=localStorage.getItem(e);return t?JSON.parse(t):[]}function d(e){const t=e.map((e=>{const t=new Date(e.release_date);let r=[];return e.genres?.length?r=e.genres.map((({name:e})=>e)):(e.genre_ids.forEach((e=>{filmsApiService.genres_ids_array.genres.forEach((({id:t,name:n})=>{t===e&&r.push(n)}))})),r=r.slice(0,2)),`<li class="gallery__item" id="${e.id}">\n            <a class="film-card"">\n                    <img src="https://image.tmdb.org/t/p/w500/${e.poster_path}" \n                        class="film-poster__img" loading="lazy" />\n                <div class="info"">\n                <p class="info__title">${e.title}</p>\n\n                  <p class="info__genres">\n                  ${r.join(", ")} | ${t.getFullYear()} \n        \n               </p>\n            </div>\n            </a>\n      </li>`})).join(""),r=document.querySelector(".movie__gallery"),n=`<p class="my-lib__title">Try to add some movies...</p> <img class="my-lib__poster" src="${l} alt="no film informatin" width="640">`;r.innerHTML=t||n}d(c("watched")),a.addEventListener("click",(e=>{const t=e.target.closest("button");if(!t)return!1;const r=t.dataset.type;t.closest("ul").querySelector(".is-active").classList.remove("is-active"),t.classList.add("is-active"),d(c(r))}));window.addEventListener("message",(e=>{const t=document.querySelector(".js-filters .is-active").dataset.type;"closeModal"===e.data&&d(c(t))})),(0,o.scrollUp)(),window.addEventListener("scroll",o.scrollUp);
//# sourceMappingURL=library.26fea00e.js.map
