!function(){var e=document.querySelector(".footer__icon");setInterval((function(){e.classList.toggle("footer__icon-blick")}),800);window.addEventListener("load",(function(){setTimeout((function(){document.body.classList.add("loaded")}),500)})),setTimeout((function(){document.body.classList.add("loaded")}),500);var t=document.querySelector(".js-filters");function n(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}function a(e){var t=e.map((function(e){var t,n=new Date(e.release_date),a=[];return(null===(t=e.genres)||void 0===t?void 0:t.length)?a=e.genres.map((function(e){return e.name})):(e.genre_ids.forEach((function(e){filmsApiService.genres_ids_array.genres.forEach((function(t){var n=t.id,i=t.name;n===e&&a.push(i)}))})),a=a.slice(0,3)),'<li class="gallery__item" id="'.concat(e.id,'">\n            <a class="film-card"">\n                    <img src="https://image.tmdb.org/t/p/w500/').concat(e.poster_path,'" \n                        class="film-poster__img" loading="lazy" />\n                <div class="info"">\n                <p class="info__title">').concat(e.title,'</p>\n\n                  <p class="info__genres">\n                  ').concat(a.join(", ")," | ").concat(n.getFullYear()," \n        \n               </p>\n            </div>\n            </a>\n      </li>")})).join("");document.querySelector(".movie__gallery").innerHTML=t}a(n("watched")),t.addEventListener("click",(function(e){var t=e.target.closest("button");if(!t)return!1;var i=t.dataset.type;t.closest("ul").querySelector(".is-active").classList.remove("is-active"),t.classList.add("is-active"),a(n(i))}));window.addEventListener("message",(function(e){var t=document.querySelector(".js-filters .is-active").dataset.type;"closeModal"===e.data&&a(n(t))}))}();
//# sourceMappingURL=library.5e848257.js.map
