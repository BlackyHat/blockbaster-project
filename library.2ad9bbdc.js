const e=document.querySelector(".footer__icon");setInterval((()=>{e.classList.toggle("footer__icon-blick")}),800);window.addEventListener("load",(function(){setTimeout((function(){document.body.classList.add("loaded")}),500)})),setTimeout((function(){document.body.classList.add("loaded")}),500);const t=document.querySelector(".js-filters");function s(e){const t=localStorage.getItem(e);return t?JSON.parse(t):[]}function n(e){const t=e.map((e=>{const t=new Date(e.release_date);let s=[];return e.genres?.length?s=e.genres.map((({name:e})=>e)):(e.genre_ids.forEach((e=>{filmsApiService.genres_ids_array.genres.forEach((({id:t,name:n})=>{t===e&&s.push(n)}))})),s=s.slice(0,3)),`<li class="gallery__item" id="${e.id}">\n            <a class="film-card"">\n                    <img src="https://image.tmdb.org/t/p/w500/${e.poster_path}" \n                        class="film-poster__img" loading="lazy" />\n                <div class="info"">\n                <p class="info__title">${e.title}</p>\n\n                  <p class="info__genres">\n                  ${s.join(", ")} | ${t.getFullYear()} \n        \n               </p>\n            </div>\n            </a>\n      </li>`})).join("");document.querySelector(".movie__gallery").innerHTML=t}n(s("watched")),t.addEventListener("click",(e=>{const t=e.target.closest("button");if(!t)return!1;const i=t.dataset.type;t.closest("ul").querySelector(".is-active").classList.remove("is-active"),t.classList.add("is-active"),n(s(i))}));window.addEventListener("message",(e=>{const t=document.querySelector(".js-filters .is-active").dataset.type;"closeModal"===e.data&&n(s(t))}));
//# sourceMappingURL=library.2ad9bbdc.js.map
